(()=>{"use strict";const e=(e,t)=>{const n=document.getElementById("tbody");for(;n.hasChildNodes();)n.removeChild(n.lastChild);const d=t=>{const d=n.insertRow();d.classList.add("todo"),d.setAttribute("id",t.id);const o=d.insertCell(),s=document.createElement("input");s.setAttribute("type","checkbox"),s.addEventListener("click",(()=>{d.classList.toggle("strike-out"),e.forEach((e=>{parseInt(e.id)===parseInt(id)&&(!1===e.completed?e.completed=!0:e.completed=!1)}))})),o.appendChild(s);const i=d.insertCell(),l=document.createElement("p");l.classList.add("todo-title"),l.textContent=t.task,i.appendChild(l);const a=d.insertCell(),c=document.createElement("p");c.classList.add("todo-duedate"),c.textContent=t.date,a.appendChild(c);const r=d.insertCell(),m=document.createElement("p");m.classList.add("todo-priority"),m.textContent=t.priority,r.appendChild(m);const p=d.insertCell(),u=document.createElement("p");u.classList.add("todo-project"),u.textContent=t.project,p.appendChild(u);const h=d.insertCell(),E=document.createElement("button");E.textContent="X",E.setAttribute("id",t.id),h.appendChild(E),E.addEventListener("click",(t=>{e.forEach((t=>{if(parseInt(E.id)===parseInt(t.id)){const n=e.indexOf(t);e.splice(n,1),d.remove()}}))}))};t?e.forEach((e=>{e.project===t&&Date.parse(e.date)===Date.parse("2023-5-31")&&d(e)})):e.forEach((e=>{d(e)}))},t=document.getElementById("new-todo-name"),n=document.getElementById("add-todo-btn"),d=document.getElementById("new-todo-date"),o=document.getElementById("new-priority"),s=document.getElementById("projects-list"),i=document.getElementById("new-project-btn"),l=document.getElementById("new-project-name"),a=document.getElementById("project"),c=[],r=[],m=t=>{const n=document.getElementById("active-view"),d=document.getElementById("all-view"),o=document.getElementById("today-view"),s=document.getElementById("week-view"),i=document.getElementById("someday-view");d.addEventListener("click",(()=>{n.textContent="All",console.log(c),e(c,Date.parse("2023-05-31"))})),o.addEventListener("click",(()=>{n.textContent="Today"})),s.addEventListener("click",(()=>{n.textContent="This Week"})),i.addEventListener("click",(()=>{n.textContent="Someday"})),t&&(n.textContent=t)};m("all"),t.addEventListener("keypress",(e=>{"Enter"===e.key&&""!==e.target.value.trim()&&p()})),n.addEventListener("click",(()=>{""!==t.value.trim()&&p(t)}));const p=()=>{new class{constructor(e,t,n,d){this.task=e,this.date=t,this.priority=n,this.completed=!1,this.id=Math.floor(5e3*Math.random()),this.project=d}pushToList(e){e.push(this)}}(t.value,d.value,o.value,a.value).pushToList(c),t.value="",e(c)};i.addEventListener("click",(()=>{l.classList.toggle("hidden")})),l.addEventListener("keypress",(e=>{"Enter"===e.key&&""!==e.target.value.trim()&&(r.push(e.target.value),h(),u(),l.classList.toggle("hidden"),e.target.value="")}));const u=()=>{for(;s.hasChildNodes();)s.removeChild(s.lastChild);r.forEach((t=>{const n=document.createElement("li");n.classList.add("project"),n.textContent=t,s.appendChild(n),n.addEventListener("click",(()=>{m(t),e(c,t)}))}))},h=()=>{for(;a.hasChildNodes();)a.removeChild(a.lastChild);const e=document.createElement("option");e.setAttribute("value","none"),e.textContent="None",a.appendChild(e),r.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.textContent=e,a.appendChild(t)}))};new Date})();